{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\erosa\\\\Desktop\\\\Projects\\\\React\\\\brewery-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\erosa\\\\Desktop\\\\Projects\\\\React\\\\brewery-search\\\\client\\\\src\\\\components\\\\breweries\\\\Search.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport BreweryContext from \"../../context/brewery/breweryContext\";\nimport AlertContext from \"../../context/alert/alertContext\";\n\nconst Search = () => {\n  const breweryContext = useContext(BreweryContext);\n  const alertContext = useContext(AlertContext);\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        text = _useState2[0],\n        setText = _useState2[1];\n\n  const searchBreweries = breweryContext.searchBreweries,\n        getUserLocation = breweryContext.getUserLocation,\n        clearBreweries = breweryContext.clearBreweries,\n        breweries = breweryContext.breweries,\n        location = breweryContext.location;\n  useEffect(() => {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(pos => {\n        let lat = pos.coords.latitude;\n        let long = pos.coords.longitude;\n        getUserLocation(lat, long).then(() => {\n          onLoad();\n        });\n      }, error => {\n        console.error(error);\n      });\n    } else {\n      console.log(\"nah\");\n    }\n  }, []);\n\n  const onLoad = () => {\n    if (location.length > 0) {\n      console.log(location);\n    }\n  };\n\n  const onChange = e => setText(e.target.value);\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (text === \"\") {\n      alertContext.setAlert(\"Please enter something\", \"warning\");\n    } else {\n      searchBreweries(text);\n      setText(\"\");\n    }\n  };\n\n  const clearAll = () => {\n    clearBreweries();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container mt-1 mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    name: \"text\",\n    value: text,\n    className: \"form-control mb-2\",\n    placeholder: \"Search Breweries...\",\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"row m-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Search\",\n    className: \"btn btn-primary col-md-6 col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), breweries.length > 0 && React.createElement(\"input\", {\n    type: \"button\",\n    value: \"ClearAll\",\n    className: \"btn btn-danger col-md-6 col-sm-12\",\n    onClick: clearAll,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }))));\n};\n\nexport default Search;","map":{"version":3,"sources":["C:\\Users\\erosa\\Desktop\\Projects\\React\\brewery-search\\client\\src\\components\\breweries\\Search.js"],"names":["React","useState","useContext","useEffect","BreweryContext","AlertContext","Search","breweryContext","alertContext","text","setText","searchBreweries","getUserLocation","clearBreweries","breweries","location","navigator","geolocation","getCurrentPosition","pos","lat","coords","latitude","long","longitude","then","onLoad","error","console","log","length","onChange","e","target","value","onSubmit","preventDefault","setAlert","clearAll"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport BreweryContext from \"../../context/brewery/breweryContext\";\r\nimport AlertContext from \"../../context/alert/alertContext\";\r\n\r\nconst Search = () => {\r\n  const breweryContext = useContext(BreweryContext);\r\n  const alertContext = useContext(AlertContext);\r\n\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const {\r\n    searchBreweries,\r\n    getUserLocation,\r\n    clearBreweries,\r\n    breweries,\r\n    location\r\n  } = breweryContext;\r\n\r\n  useEffect(() => {\r\n    if (\"geolocation\" in navigator) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        pos => {\r\n          let lat = pos.coords.latitude;\r\n          let long = pos.coords.longitude;\r\n          getUserLocation(lat, long).then(() => {\r\n            onLoad();\r\n          });\r\n        },\r\n        error => {\r\n          console.error(error);\r\n        }\r\n      );\r\n    } else {\r\n      console.log(\"nah\");\r\n    }\r\n  }, []);\r\n\r\n  const onLoad = () => {\r\n    if (location.length > 0) {\r\n      console.log(location);\r\n    }\r\n  };\r\n\r\n  const onChange = e => setText(e.target.value);\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    if (text === \"\") {\r\n      alertContext.setAlert(\"Please enter something\", \"warning\");\r\n    } else {\r\n      searchBreweries(text);\r\n      setText(\"\");\r\n    }\r\n  };\r\n\r\n  const clearAll = () => {\r\n    clearBreweries();\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-1 mb-2\">\r\n      <form className=\"form\" onSubmit={onSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"text\"\r\n          value={text}\r\n          className=\"form-control mb-2\"\r\n          placeholder=\"Search Breweries...\"\r\n          onChange={onChange}\r\n        />\r\n        <div className=\"row m-1\">\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Search\"\r\n            className=\"btn btn-primary col-md-6 col-sm-12\"\r\n          />\r\n          {/* <div className=\"divider\"></div> */}\r\n          {breweries.length > 0 && (\r\n            <input\r\n              type=\"button\"\r\n              value=\"ClearAll\"\r\n              className=\"btn btn-danger col-md-6 col-sm-12\"\r\n              onClick={clearAll}\r\n            />\r\n          )}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}